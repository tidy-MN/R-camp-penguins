<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Date mischief - Learn R</title>
  <meta property="og:title" content="Date mischief" />
  <meta name="twitter:title" content="Date mischief" />
  <meta name="description" content="Getting started Create a new R script. Save it as soon as you make it and give it a good name like 5-2_exercise.">
  <meta property="og:description" content="Getting started Create a new R script. Save it as soon as you make it and give it a good name like 5-2_exercise.">
  <meta name="twitter:description" content="Getting started Create a new R script. Save it as soon as you make it and give it a good name like 5-2_exercise.">
  <meta name="author" content="Pengu"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Learn R",
    
    "url": "https:\/\/tidy-mn.github.io\/R-camp-penguins\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/tidy-mn.github.io\/R-camp-penguins\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/tidy-mn.github.io\/R-camp-penguins\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/tidy-mn.github.io\/R-camp-penguins\/page\/exercise\/day5\/05-2-date-mischief-and-data-joins.html",
          "name": "Date mischief"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Pengu"
  },
  "headline": "Date mischief",
  "description" : "Getting started Create a new R script. Save it as soon as you make it and give it a good name like 5-2_exercise.",
  "inLanguage" : "en",
  "wordCount":  1424 ,
  "datePublished" : "0001-01-01T00:00:00",
  "dateModified" : "0001-01-01T00:00:00",
  "image" : "https:\/\/tidy-mn.github.io\/R-camp-penguins\/images\/penguins_circle1.png",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/tidy-mn.github.io\/R-camp-penguins\/page\/exercise\/day5\/05-2-date-mischief-and-data-joins.html",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/tidy-mn.github.io\/R-camp-penguins\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/tidy-mn.github.io\/R-camp-penguins\/images\/penguins_circle1.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Date mischief" />
<meta property="og:description" content="Getting started Create a new R script. Save it as soon as you make it and give it a good name like 5-2_exercise.">
<meta property="og:image" content="https://tidy-mn.github.io/R-camp-penguins/images/penguins_circle1.png" />
<meta property="og:url" content="https://tidy-mn.github.io/R-camp-penguins/page/exercise/day5/05-2-date-mischief-and-data-joins.html" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Learn R" />
  <meta name="twitter:title" content="Date mischief" />
  <meta name="twitter:description" content="Getting started Create a new R script. Save it as soon as you make it and give it a good name like 5-2_exercise.">
  <meta name="twitter:image" content="https://tidy-mn.github.io/R-camp-penguins/images/penguins_circle1.png" />
  <meta name="twitter:card" content="summary" />
  <link href='https://ui-avatars.com/api/?background=2E2E2E&amp;color=fff&amp;font-size=.7&amp;name=R&amp;size=128&amp;rounded=true' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://tidy-mn.github.io/R-camp-penguins/images/penguins_circle1.png" />
  <meta name="twitter:image" content="https://tidy-mn.github.io/R-camp-penguins/images/penguins_circle1.png" />
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="https://tidy-mn.github.io/R-camp-penguins/page/exercise/day5/05-2-date-mischief-and-data-joins.html" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Learn R" />

  <meta name="generator" content="Hugo 0.119.0">
  <link rel="alternate" href="https://tidy-mn.github.io/R-camp-penguins/index.xml" type="application/rss+xml" title="Learn R">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://tidy-mn.github.io/R-camp-penguins/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://tidy-mn.github.io/R-camp-penguins/css/syntax.css" /><link rel="stylesheet" href="https://tidy-mn.github.io/R-camp-penguins/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">





  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://tidy-mn.github.io/R-camp-penguins/">Learn R</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Training</a>
              <div class="navlinks-children">
                
                  <a href="/R-camp-penguins/index.html">Home</a>
                
                  <a href="/R-camp-penguins/page/agenda.html">Agenda</a>
                
                  <a href="/R-camp-penguins/page/r_camp_primer.html">Camp Primer</a>
                
                  <a href="/R-camp-penguins/page/day1.html">Day 1</a>
                
                  <a href="/R-camp-penguins/page/day2.html">Day 2</a>
                
                  <a href="/R-camp-penguins/page/day3.html">Day 3</a>
                
                  <a href="/R-camp-penguins/page/day4.html">Day 4</a>
                
                  <a href="/R-camp-penguins/page/day5.html">Day 5</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Community" href="/R-camp-penguins/page/community.html">Community</a>
            </li>
          
        
          
            <li>
              <a title="Install R" href="/R-camp-penguins/page/install.html">Install R</a>
            </li>
          
        
          
            <li>
              <a title="Help" href="/R-camp-penguins/page/help.html">Help</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Learn R" href="https://tidy-mn.github.io/R-camp-penguins/">
            <img class="avatar-img" src="https://tidy-mn.github.io/R-camp-penguins/images/penguins_circle1.png" alt="Learn R" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="page-heading">
              
                <h1>Date mischief</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>
  <link rel="stylesheet" href="../../css/camp_style.css" type="text/css" />


<div id="getting-started" class="section level2">
<h2>Getting started</h2>
<p>Create a new R script. Save it as soon as you make it and give it a good name like <code>5-2_exercise.R</code> or <code>temp_analysis.R</code> and you’ll be ready to go!</p>
</div>
<div id="the-question" class="section level2">
<h2>The question</h2>
<p>The research crew wants to determine if there is a relationship between isotope levels in the <code>penguins_raw</code> data and temperature. We have temperature data for each of the islands uploaded to the webpage.</p>
<p>Let’s get all of this temperature data into R first, and then we can combine it with our <code>penguins_raw</code> data.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>biscoe <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://tidy-mn.github.io/R-camp-penguins/data/Biscoe_temperatures.csv&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>dream <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://tidy-mn.github.io/R-camp-penguins/data/Dream_temperatures.csv&quot;</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>torg <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://tidy-mn.github.io/R-camp-penguins/data/Torgersen_temperatures.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="data-exploration" class="section level2">
<h2>Data exploration</h2>
<p>Let’s do a quick overview of our temperature data. As you are exploring the data, look for what is different between the 3 data frames?</p>
<p>What can we do to make the data more tidy?</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">glimpse</span>(biscoe)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">glimpse</span>(dream)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">glimpse</span>(torg)</span></code></pre></div>
</div>
<div id="clean-up-time" class="section level2">
<h2>Clean-up time</h2>
<div id="step-1" class="section level3">
<h3>Step 1</h3>
<p>Take a closer look at the <code>torg</code> data. Why does it have so many more rows? Try arranging the data by the <em>date</em> column, what do you notice?</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">arrange</span>(torg, date)</span></code></pre></div>
<pre><code>## # A tibble: 2,192 × 2
##    date       temperature_c
##    &lt;date&gt;             &lt;dbl&gt;
##  1 2007-01-01           1.5
##  2 2007-01-01           1.5
##  3 2007-01-02           1.3
##  4 2007-01-02           1.3
##  5 2007-01-03           4.1
##  6 2007-01-03           4.1
##  7 2007-01-04          -0.3
##  8 2007-01-04          -0.3
##  9 2007-01-05           2.3
## 10 2007-01-05           2.3
## # ℹ 2,182 more rows</code></pre>
<p><br></p>
<blockquote>
<p>Icky…It looks like there are duplicate rows in the data. That seems to happen a lot. Since the temp value always appears to be the same for the duplicate row, I think it is safe to say the duplicate should be removed.</p>
</blockquote>
<p>If you are 100% sure your data should not have duplicate rows in it, you can use the function <code>distinct( )</code> to keep only one row from each of the groups of duplicates. In the end, every row will be a distinct and unique row compared to ALL the others in the table.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>torg <span class="ot">&lt;-</span> <span class="fu">distinct</span>(torg)</span></code></pre></div>
<blockquote>
<p>How many rows does <em>torg</em> have now?</p>
</blockquote>
<p><br></p>
</div>
<div id="step-2" class="section level3">
<h3>Step 2</h3>
<p>The island names are in the file name, but are not in the data itself. That’s not ideal when you’re looking to join data together or perhaps want to label points on a chart with the island name.</p>
<p>Let’s add the island names to use for joining later. Remember that R is picky about name matching, so it’s important to make sure the names are exactly correct, including CAPs.</p>
<p>The island names are <code>Biscoe</code>, <code>Dream</code>, and <code>Torgersen</code>. <em>Copy/Paste</em> is your friend here. Use <code>mutate( )</code> to add a new column called <em>island</em> to each of the data sets.</p>
</div>
<div id="which-island" class="section level3 unnumbered quiz">
<h3><i class="fas fa-cookie-bite" style="color: gray;"></i> Which island?</h3>
<ul class="nav nav-pills" id="myTab0a" role="tablist" style="margin-top: 18px;">
<li class="nav-item active">
<a class="nav-link" id="description0a-tab" data-toggle="tab" href="#description0a" role="tab" aria-controls="description0a" aria-selected="true">Description</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showhint0a-tab" data-toggle="tab" href="#showhint0a" role="tab" aria-controls="showhint0a" aria-selected="false">Show hint</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showcode0a-tab" data-toggle="tab" href="#showcode0a" role="tab" aria-controls="showcode0a" aria-selected="false">Show code</a>
</li>
</ul>
<div id="myTabContent" class="well tab-content" style="background-color: white;">
<div id="description0a" class="tab-pane fade active in" role="tabpanel" aria-labelledby="description0a-tab">
<p><b> Use <code>mutate( )</code> to add a new column called <em>island</em> to each of the data sets.</b></p>
<p><br></p>
</div>
<div id="showhint0a" class="tab-pane fade" role="tabpanel" aria-labelledby="showhint0a-tab">
<pre class="sourceCode r">
biscoe <- biscoe %>%
          mutate(island = ______ )

dream <- dream %>%
         
#.....
  
</pre>
</div>
<div id="showcode0a" class="tab-pane fade" role="tabpanel" aria-labelledby="showcode0a-tab">
<pre class="sourceCode r">
biscoe <- biscoe %>%
          mutate(island = "Biscoe")

dream <- dream %>%
         mutate(island = "Dream")

torg <- torg %>%
        mutate(island = "Torgersen")
  
</pre>
</div>
</div>
</div>
<p><br></p>
<p>When exploring the data, did you notice anything about the dates? They are all in different formats! Luckily we have <code>lubridate</code> to come to the rescue. Let’s convert those dates so they are all in the same format. Remember to choose your date function from the table below.</p>
<div class="bluecode">
<table>
<colgroup>
<col width="79%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Format</th>
<th align="left">Function to use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Month-Day-Year ~ “<span class="teal">05-18-2023</span>” or “<span class="teal">05/18/2023</span>”</td>
<td align="left"><code>mdy(</code>date<code>)</code></td>
</tr>
<tr class="even">
<td align="left">Day-Month-Year ~ “<span class="teal">18-05-2023</span>” or “<span class="teal">18/05/2023</span>”</td>
<td align="left"><code>dmy()</code></td>
</tr>
<tr class="odd">
<td align="left">Year-Month-Day ~ “<span class="teal">2023-05-18</span>” or “<span class="teal">2023/05/18</span>”</td>
<td align="left"><code>ymd()</code></td>
</tr>
</tbody>
</table>
</div>
<div id="make-it-a-date" class="section level3 unnumbered quiz">
<h3><i class="fas fa-cookie-bite" style="color: gray;"></i> Make it a Date</h3>
<ul class="nav nav-pills" id="myTab2483" role="tablist" style="margin-top: 18px;">
<li class="nav-item active">
<a class="nav-link" id="description2483-tab" data-toggle="tab" href="#description2483" role="tab" aria-controls="description2483" aria-selected="true">Description</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showhint2483-tab" data-toggle="tab" href="#showhint2483" role="tab" aria-controls="showhint2483" aria-selected="false">Show hint</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showcode2483-tab" data-toggle="tab" href="#showcode2483" role="tab" aria-controls="showcode2483" aria-selected="false">Show code</a>
</li>
</ul>
<div id="myTabContent" class="well tab-content" style="background-color: white;">
<div id="description2483" class="tab-pane fade active in" role="tabpanel" aria-labelledby="description2483-tab">
<p><b> Use <code>mutate( )</code> to convert the <em>date</em> column to a Date object in each of the data sets.</b></p>
<p><br></p>
</div>
<div id="showhint2483" class="tab-pane fade" role="tabpanel" aria-labelledby="showhint2483-tab">
<pre class="sourceCode r">

biscoe <- biscoe %>%
          mutate(date = mdy(date))

dream <- dream %>%
         mutate(date = ________ )
         
#.....
  
</pre>
</div>
<div id="showcode2483" class="tab-pane fade" role="tabpanel" aria-labelledby="showcode2483-tab">
<pre class="sourceCode r">
biscoe <- biscoe %>%
          mutate(date = mdy(date))

dream <- dream %>%
         mutate(date = dmy(date))

torg <- torg %>%
        mutate(date = ymd(date))
  
</pre>
</div>
</div>
</div>
</div>
<div id="binding-them-all-together" class="section level2">
<h2>Binding them all together</h2>
<p>To join the temperature data to our penguin data easily, we want to combine all 3 data frames into one data frame. Keeping in mind tidy data, what is the best way to do this?</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>temps <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(biscoe, dream, torg)</span></code></pre></div>
<p>Run a few tests on the new table to ensure all the island data survived the <code>bind_rows</code> journey.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Check that all the islands made it into temps table</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="fu">distinct</span>(temps, island)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co"># Does the total number of rows check out</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="fu">nrow</span>(temps)</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="fu">nrow</span>(biscoe) <span class="sc">+</span> <span class="fu">nrow</span>(dream) <span class="sc">+</span> <span class="fu">nrow</span>(torg)</span></code></pre></div>
</div>
<div id="more-data-exploartion" class="section level2">
<h2>More data exploartion</h2>
<p>We have our temperature data in a happy place, but what about the penguin data?
Let’s get the data and determine which columns we can use to combine with our temperature data.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>penguins_raw <span class="ot">&lt;-</span> penguins_raw</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="fu">glimpse</span>(penguins_raw)</span></code></pre></div>
<pre><code>## Rows: 344
## Columns: 17
## $ studyName             &lt;chr&gt; &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL0708&quot;, &quot;PAL…
## $ `Sample Number`       &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 1…
## $ Species               &lt;chr&gt; &quot;Adelie Penguin (Pygoscelis adeliae)&quot;, &quot;Adelie P…
## $ Region                &lt;chr&gt; &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;, &quot;Anvers&quot;…
## $ Island                &lt;chr&gt; &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgerse…
## $ Stage                 &lt;chr&gt; &quot;Adult, 1 Egg Stage&quot;, &quot;Adult, 1 Egg Stage&quot;, &quot;Adu…
## $ `Individual ID`       &lt;chr&gt; &quot;N1A1&quot;, &quot;N1A2&quot;, &quot;N2A1&quot;, &quot;N2A2&quot;, &quot;N3A1&quot;, &quot;N3A2&quot;, …
## $ `Clutch Completion`   &lt;chr&gt; &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;No&quot;, …
## $ `Date Egg`            &lt;date&gt; 2007-11-11, 2007-11-11, 2007-11-16, 2007-11-16,…
## $ `Culmen Length (mm)`  &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34…
## $ `Culmen Depth (mm)`   &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18…
## $ `Flipper Length (mm)` &lt;dbl&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190,…
## $ `Body Mass (g)`       &lt;dbl&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 34…
## $ Sex                   &lt;chr&gt; &quot;MALE&quot;, &quot;FEMALE&quot;, &quot;FEMALE&quot;, NA, &quot;FEMALE&quot;, &quot;MALE&quot;…
## $ `Delta 15 N (o/oo)`   &lt;dbl&gt; NA, 8.94956, 8.36821, NA, 8.76651, 8.66496, 9.18…
## $ `Delta 13 C (o/oo)`   &lt;dbl&gt; NA, -24.69454, -25.33302, NA, -25.32426, -25.298…
## $ Comments              &lt;chr&gt; &quot;Not enough blood for isotopes.&quot;, NA, NA, &quot;Adult…</code></pre>
<p><br></p>
<p>Both data frames have an <strong>island</strong> column and a <strong>date</strong> column, but with different names. What operation do we want to use? Which join type is most appropriate here? Remember that when combining data frames, column names are important and are case-sensitive. We want the resulting data frame to have the same number of rows as the <em>penguins_raw</em> data frame.</p>
<div id="table-join" class="section level3 unnumbered quiz">
<h3><i class="fas fa-cookie-bite" style="color: gray;"></i> Table join</h3>
<ul class="nav nav-pills" id="myTab2575" role="tablist" style="margin-top: 18px;">
<li class="nav-item active">
<a class="nav-link" id="description2575-tab" data-toggle="tab" href="#description2575" role="tab" aria-controls="description2575" aria-selected="true">Description</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showhint2575-tab" data-toggle="tab" href="#showhint2575" role="tab" aria-controls="showhint2575" aria-selected="false">Show hint</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showcode2575-tab" data-toggle="tab" href="#showcode2575" role="tab" aria-controls="showcode2575" aria-selected="false">Show code</a>
</li>
</ul>
<div id="myTabContent" class="well tab-content" style="background-color: white;">
<div id="description2575" class="tab-pane fade active in" role="tabpanel" aria-labelledby="description2575-tab">
<p><b> Use a <code>****_join( )</code> function to combine the columns of the two data sets so the result has the same number of rows as <em>penguins_raw</em>.</b></p>
<p><br></p>
</div>
<div id="showhint2575" class="tab-pane fade" role="tabpanel" aria-labelledby="showhint2575-tab">
<pre class="sourceCode r">
penguin_temps <- left_join(penguins_raw, temps,
                           by = c("Island" = "_______" ,
                                  "Date Egg" =  "______" ))
  
# inner_join() would also work in this case

</pre>
</div>
<div id="showcode2575" class="tab-pane fade" role="tabpanel" aria-labelledby="showcode2575-tab">
<pre class="sourceCode r">
penguin_temps <- left_join(penguins_raw, temps,
                           by = c("Island" = "island",
                                  "Date Egg" = "date"))
  
</pre>
</div>
</div>
</div>
</div>
<div id="the-relationship-between-temp-and-isotopes" class="section level2">
<h2>The relationship between temp and isotopes</h2>
<p>With all of the data in one data frame, we can now plot isotope levels versus temperatures. But first, we need to clean up those long tricky column names. How do we do that?</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># The current names</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="fu">names</span>(penguin_temps)</span></code></pre></div>
<pre><code>##  [1] &quot;studyName&quot;           &quot;Sample Number&quot;       &quot;Species&quot;            
##  [4] &quot;Region&quot;              &quot;Island&quot;              &quot;Stage&quot;              
##  [7] &quot;Individual ID&quot;       &quot;Clutch Completion&quot;   &quot;Date Egg&quot;           
## [10] &quot;Culmen Length (mm)&quot;  &quot;Culmen Depth (mm)&quot;   &quot;Flipper Length (mm)&quot;
## [13] &quot;Body Mass (g)&quot;       &quot;Sex&quot;                 &quot;Delta 15 N (o/oo)&quot;  
## [16] &quot;Delta 13 C (o/oo)&quot;   &quot;Comments&quot;            &quot;temperature_c&quot;</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co">#install.packages(&quot;janitor&quot;)</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>penguin_temps <span class="ot">&lt;-</span> <span class="fu">clean_names</span>(penguin_temps)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="fu">names</span>(penguin_temps)</span></code></pre></div>
<pre><code>##  [1] &quot;study_name&quot;        &quot;sample_number&quot;     &quot;species&quot;          
##  [4] &quot;region&quot;            &quot;island&quot;            &quot;stage&quot;            
##  [7] &quot;individual_id&quot;     &quot;clutch_completion&quot; &quot;date_egg&quot;         
## [10] &quot;culmen_length_mm&quot;  &quot;culmen_depth_mm&quot;   &quot;flipper_length_mm&quot;
## [13] &quot;body_mass_g&quot;       &quot;sex&quot;               &quot;delta_15_n_o_oo&quot;  
## [16] &quot;delta_13_c_o_oo&quot;   &quot;comments&quot;          &quot;temperature_c&quot;</code></pre>
</div>
<div id="plots" class="section level2">
<h2>Plots</h2>
<p>We can finally make our plots. We’re interested in temperatures in comparison to isotope levels. These were in the columns <code>Delta 15 N (o/oo)</code> and <code>Delta 13 C (o/oo)</code> in the original <em>penguins_raw</em> data frame before the column names were cleaned. Which type of plot do you think is most appropriate here? Add some color to show the differences between the 3 islands.</p>
<p><img src="/R-camp-penguins/page/exercise/day5/05-2-date-mischief-and-data-joins_files/figure-html/plots-1.png" width="73%" /></p>
<div id="isotope-plots" class="section level3 unnumbered quiz">
<h3><i class="fas fa-cookie-bite" style="color: gray;"></i> Isotope plots</h3>
<ul class="nav nav-pills" id="myTab192" role="tablist" style="margin-top: 18px;">
<li class="nav-item active">
<a class="nav-link" id="description192-tab" data-toggle="tab" href="#description192" role="tab" aria-controls="description192" aria-selected="true">Description</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showhint192-tab" data-toggle="tab" href="#showhint192" role="tab" aria-controls="showhint192" aria-selected="false">Show hint</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showcode192-tab" data-toggle="tab" href="#showcode192" role="tab" aria-controls="showcode192" aria-selected="false">Show code</a>
</li>
</ul>
<div id="myTabContent" class="well tab-content" style="background-color: white;">
<div id="description192" class="tab-pane fade active in" role="tabpanel" aria-labelledby="description192-tab">
<p><b> Make 2 plots. One comparing temperature to Delta 15 N, and one comparing temperature to Delta 13 C. Assign the data from each island to its own color.</b></p>
<p><br></p>
</div>
<div id="showhint192" class="tab-pane fade" role="tabpanel" aria-labelledby="showhint192-tab">
<pre class="sourceCode r">
# Delta 15 plot
ggplot(penguin_temps,
       aes(x = temperature_c, y = delta_15_n_o_oo, _______ = _______ )) +
  geom_*****(size = 3)

# Delta 13 plot
ggplot(penguin_temps,
       aes(x = temperature_c, y = ......

</pre>
</div>
<div id="showcode192" class="tab-pane fade" role="tabpanel" aria-labelledby="showcode192-tab">
<pre class="sourceCode r">
# Delta 15 plot
ggplot(penguin_temps,
       aes(x = temperature_c, y = delta_15_n_o_oo, color = island)) +
  geom_point(size = 3)


# Delta 13 plot
ggplot(penguin_temps,
       aes(x = temperature_c, y = delta_13_c_o_oo, color = island)) +
  geom_point(size = 3) +
  scale_color_discrete(type = c("green", "blue", "purple"))
  
</pre>
</div>
</div>
</div>
</div>
<div id="expedition-complete" class="section level2">
<h2>Expedition complete</h2>
<p><strong>Congratulations!</strong> You have learned a bit about how temperature may affect penguin chemistry.</p>
<p>Time to prep for the next expedition…</p>
<p><br></p>
<p><i class="fa fa-cookie-bite"></i>
<i class="fa fa-robot"></i>
<i class="fa fa-cookie-bite"></i></p>
</div>


        

        

        
      </article>

      


      

    </div>
  </div>
</div>

    <footer>
  <div class="container">

    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

        

        <p class="credits copyright text-muted">
        &copy;
          
            2023
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://tidy-mn.github.io/R-camp-penguins/">Learn R</a>
          
        </p>


        
        <p class="credits theme-by text-muted">
          Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://tidy-mn.github.io/R-camp-penguins/js/main.js"></script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="https://tidy-mn.github.io/R-camp-penguins/js/load-photoswipe.js"></script>









  </body>
</html>

