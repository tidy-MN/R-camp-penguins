---
title: 'Summarize penguin populations'
author: "Abigail Stamm"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Summarize the data on penguin populations

The goal of this exercise is to create summary datasets that answer specific questions about the penguin populations. We will use the `penguins` dataset in the `palmerpenguins` package. Please ask for help if you get stuck or would like a hint.

### Load the `palmerpenguins` package 

```{r, eval=F}
library(palmerpenguins)
```


### Load the `penguins` data

Since the dataset is included in the package itself, we don't need to read in a csv from the web or from our computer folders. Many R packages include datasets so that you can test the functions included in them. [Here](https://vincentarelbundock.github.io/Rdatasets/datasets.html) is a website with packages that include 1000s of datasets! Once you have loaded your R package that contains a dataset, you can pull that dataset into your environment by giving the dataset an object name. If you are ever wondering if a package includes a practice data set, just run this code to get a list of the datasets `data(package='palmerpenguins')`

```{r, eval=F}
penguins <- penguins
```

### Compare flipper lengths

The `group_by` and `summarize` functions allow us to compare values by categories. Today, we are very interested in how long the flippers are for each species. Remember, you can create a new summary dataset by assigning the summarized data an object name, i.e. `data_summary <-`, or you can avoid the name and have your summary information printed into the console. Now that you have your penguin data, please create a dataset that summarizes the flipper lengths of the penguin populations by species. Please make sure the following calculations are made for each penguin species: minimum, maximum, and mean flipper lengths. 

1. Which penguin species has the shortest flippers?
1. Is there a flipper length range that includes all three penguin species?


<div class="quiz">

### <i class="fas fa-cookie-bite" style="color: gray;"></i> Grouped summarize {-}

```{r, results='asis', echo=F}
source("../insert_tabs.R")

tabs <- c("group_by() %>% summarize()", "Show hint", "Show code")

content <- c(Exercise = '<b> First use group_by() to group the data by species, AND THEN use summarize() to add new column called min_flipper_length. Ignore the NA values with the argument `na.rm = TRUE`.</b>

<br>',

show_hint = 'code_start
# Remember to account for NA values in your summary function
penguins %>% 
  group_by( _______ ) %>%
  summarize(min_flipper_length = ________ )
  
code_end',

show_code = 'code_start
penguins %>% 
  group_by(species) %>%
  summarize(min_flipper_length = min(flipper_length_mm, na.rm = TRUE))
  
code_end')

tab_html <- add_tabs(tabs, content)

cat(paste0(tab_html, collapse = "\n"))
```

</div>


### Compare weights

Now we are interested in how much penguins weigh by species AND island. You can do this using the `group_by` function on more than one variable. Here's your task: Create a dataset that summarizes the weights of the penguin populations by species and island. Calculate the minimum, maximum, and mean weights for each group. 

1. Which penguin species is the heaviest?
1. On which island are Adelie penguins the heaviest?


<div class="quiz">

### <i class="fas fa-cookie-bite" style="color: gray;"></i> Grouped multiple summarize {-}

```{r, results='asis', echo=F}
source("../insert_tabs.R")

tabs <- c("Grouped multiple summarize()", "Show hint", "Show code")

content <- c(Exercise = '<b> First use group_by() to group the data by species and island, AND THEN use summarize() to add new columns for min, mean, and max flipper_length. Ignore the NA values with the argument `na.rm = TRUE`. </b>

<br>',

show_hint = 'code_start
# Remember to account for NA values in your summary functions
penguins %>% 
  group_by(_______ , _______ ) %>%
  summarize(min_weight  = min( _______ , na.rm = TRUE),
            mean_weight = _______ ,
            max_weight  = _______ )
            
code_end',

show_code = 'code_start
penguins %>% 
  group_by(species, island) %>%
  summarize(min_weight  = min(body_mass_g, na.rm = TRUE),
            mean_weight = mean(body_mass_g, na.rm = TRUE),
            max_weight  = max(body_mass_g, na.rm = TRUE)) 
            
code_end')

tab_html <- add_tabs(tabs, content)

cat(paste0(tab_html, collapse = "\n"))
```

</div>



### Compare penguin bills

Penguin bills are fascinating! We want to know everything about them, and we want even more categorically resolved information this time! Sometimes you want summaries based on very specific gruops, like year and month and your mood. Again, `group_by` lets this happen as long as your data allow it. 

In this final exercise, we want you to create a dataset that summarizes the bill lengths and bill depths of the penguin populations by species, sex, and island. Calculate the mean bill lengths and bill depths of each group. 

1. In general, do male and female bills tend to be the same length and depth? If not, how do they differ?
1. Do the groups with the longest bills also have the deepest bills? Do the groups with the shortest bills also have the shallowest bills?
1. From the table, would you assume bill size is most associated with species, sex, or island?


<div class="quiz">

### <i class="fas fa-cookie-bite" style="color: gray;"></i> Grouped summarize X3 {-}

```{r, results='asis', echo=F}
source("../insert_tabs.R")

tabs <- c("Grouped summarize X3", "Show hint", "Show code")

content <- c(Exercise = '<b> First use group_by() to group the data by species, island, and sex -AND THEN- use summarize() to add new columns for the mean bill depth and bill length. Ignore the NA values with the argument `na.rm = TRUE`. Store the result in the new table "bill_summary". </b>

<br>',

show_hint = 'code_start
# Remember to account for NA values in your summary functions
bill_summary <- penguins %>% 
                  group_by(_______ , _______ , _______ ) %>%
                  summarize(mean_bill_depth  = _______ ,
                            mean_bill_length = _______ )
            
code_end',

show_code = 'code_start
bill_summary <- penguins %>%
                  group_by(species, island, sex) %>%
                  summarize(mean_bill_depth  = mean(bill_depth_mm, na.rm = TRUE),
                            mean_bill_length = mean(bill_length_mm, na.rm = TRUE)) 
            
code_end')

tab_html <- add_tabs(tabs, content)

cat(paste0(tab_html, collapse = "\n"))
```

</div>
