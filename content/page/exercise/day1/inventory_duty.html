---
title: "Inventory Duty - Exercise 1"
output: 
  blogdown::html_page: 
    highlight: tango
    css: ../../css/camp_style.css
    number_sections: true
    self_contained: false
    fontsize: 18pt
    monofont: Source Code Pro
    toc: false
    toc_depth: 1
---

<script src="/R-camp-penguins/rmarkdown-libs/clipboard/clipboard.min.js"></script>
<link href="/R-camp-penguins/rmarkdown-libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
<script src="/R-camp-penguins/rmarkdown-libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
<script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
<link href="/R-camp-penguins/rmarkdown-libs/font-awesome/css/all.css" rel="stylesheet" />
<link href="/R-camp-penguins/rmarkdown-libs/font-awesome/css/v4-shims.css" rel="stylesheet" />
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>
  <link rel="stylesheet" href="../../css/camp_style.css" type="text/css" />


<p><link rel="stylesheet" 
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"></p>
<style>
h1 .header-section-number {background: cornflowerblue;}
hr {background:  cornflowerblue;}
</style>
<div id="before-you-start" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Before you start…</h1>
<p>Please make a brand-new project for this exercise. This will be our exercise project where we’ll do all our exercises for the remainder of the course.</p>
<p>To make a new project in RStudio: Go to <code>File</code> -&gt; <code>New Project</code> -&gt; <code>New Directory</code> -&gt; <code>New Project</code></p>
<p>Now you need to pick a new directory. Pick a location that makes sense to you so you’ll be able to find it again. If you don’t change the location, the default setting will be used and your project will be created in your <code>Documents/</code> folder. Click <strong>Create project</strong>.</p>
<p>Now that you have a new project setup (you should see your project name in the top right of RStudio), it’s time to create a new R script and save it. Go to <code>File</code> -&gt; <code>New File</code> -&gt; <code>R Script</code> or click on the top left icon with the green plus sign.</p>
<p>You can now save the script by clicking <code>CTRL</code> + <code>S</code> or by clicking the floppy disk icon. Name your script something pithy like <code>ex_1_day_1.R</code> or <code>frankie.R</code>. And you’re ready to go!</p>
</div>
<div id="inventory-duty" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Inventory duty</h1>
<p>We love our job as baking-bot, but the thing we love more than anything is taking inventory of ingredients. We like to play with the inventory data and present beautiful summaries to the lead baking-bot.</p>
<p>The bakery is expecting some big orders for the upcoming holidays and wants to be prepared. We’ve been asked to download the current inventory and determine if we are running low on any ingredients.</p>
<p>Let’s read in the inventory data!</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>inventory <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://tidy-mn.github.io/R-camp-penguins/data/inventory_data.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="getting-to-know-the-data" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Getting to know the data</h1>
<p>Now that we have the data let’s take some steps to better understand the information in the file.</p>
<ul>
<li>How many rows are there, how many columns?</li>
<li>What data types are the columns?</li>
<li>What’s the general range of the values?</li>
<li>⭐ The lead baking-bot especially wants to know what the maximum value is for <code>NUMBER_OF_UNITS_IN_STOCK</code> for very important planning purposes.</li>
</ul>
<p>Feel free to use any and all of the functions you know, but also feel free to use the hints below for inspiration!</p>
<div id="get-to-know-the-data" class="section level3 unnumbered quiz">
<h3><i class="fas fa-cookie-bite" style="color: gray;"></i> Get to know the data</h3>
<ul class="nav nav-pills" id="myTab1" role="tablist" style="margin-top: 18px;">
<li class="nav-item active">
<a class="nav-link" id="explorefunctions1-tab" data-toggle="tab" href="#explorefunctions1" role="tab" aria-controls="explorefunctions1" aria-selected="true">Explore functions</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showhint1-tab" data-toggle="tab" href="#showhint1" role="tab" aria-controls="showhint1" aria-selected="false">Show hint</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showcode1-tab" data-toggle="tab" href="#showcode1" role="tab" aria-controls="showcode1" aria-selected="false">Show code</a>
</li>
</ul>
<div id="myTabContent" class="well tab-content" style="background-color: white;">
<div id="explorefunctions1" class="tab-pane fade active in" role="tabpanel" aria-labelledby="explorefunctions1-tab">
<p><b> When we first get a dataset it is fun to sit down and get to know it better. Below are a few functions to choose from: </b></p>
<ul>
<li><code>glimpse</code></li>
<li><code>summmary</code></li>
<li><code>head</code></li>
<li><code>tail</code></li>
<li><code>class</code></li>
</ul>
<p><br></p>
</div>
<div id="showhint1" class="tab-pane fade" role="tabpanel" aria-labelledby="showhint1-tab">
<pre class="sourceCode r">
# glimpse() gives us that data type for each column and 
# a few sample values for each column

glimpse() 

# summary() shows us missing values and stats for numeric columns

summary() 

</pre>
</div>
<div id="showcode1" class="tab-pane fade" role="tabpanel" aria-labelledby="showcode1-tab">
<pre class="sourceCode r">
glimpse(inventory)

summary(inventory)

</pre>
</div>
</div>
</div>
<p><br></p>
<p>WHOA. We have 378 units of something in stock?! What are we making, cupcakes for a whole school?! A cake big enough to cover a bus?! Time to go investigate…</p>
</div>
<div id="filtering-to-the-good-stuff" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Filtering to the good stuff</h1>
<p>How do we go about trying to figure out what’s going on with that wacky number? We need to be able to narrow down just to the row that meets the condition where <code>NUMBER_OF_UNITS_IN_STOCK</code> is equal to 378. What tool do we have that will let us do that?</p>
<div id="investigation-underway" class="section level3 unnumbered quiz">
<h3><i class="fas fa-cookie-bite" style="color: gray;"></i> Investigation underway</h3>
<ul class="nav nav-pills" id="myTab2" role="tablist" style="margin-top: 18px;">
<li class="nav-item active">
<a class="nav-link" id="findtheodd-ball2-tab" data-toggle="tab" href="#findtheodd-ball2" role="tab" aria-controls="findtheodd-ball2" aria-selected="true">Find the odd-ball</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showhint2-tab" data-toggle="tab" href="#showhint2" role="tab" aria-controls="showhint2" aria-selected="false">Show hint</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showcode2-tab" data-toggle="tab" href="#showcode2" role="tab" aria-controls="showcode2" aria-selected="false">Show code</a>
</li>
</ul>
<div id="myTabContent" class="well tab-content" style="background-color: white;">
<div id="findtheodd-ball2" class="tab-pane fade active in" role="tabpanel" aria-labelledby="findtheodd-ball2-tab">
<p><b> Filter the inventory data to just the row that meets the condition of <code>NUMBER_OF_UNITS_IN_STOCK</code> is equal to 378 </b></p>
<p><br></p>
</div>
<div id="showhint2" class="tab-pane fade" role="tabpanel" aria-labelledby="showhint2-tab">
<pre class="sourceCode r">
# Remember to use the double equal sign (==) for "is equal to"

filter(inventory, PLACE A CONDITION HERE) 

</pre>
</div>
<div id="showcode2" class="tab-pane fade" role="tabpanel" aria-labelledby="showcode2-tab">
<pre class="sourceCode r">

filter(inventory, NUMBER_OF_UNITS_IN_STOCK == 378)

</pre>
</div>
</div>
</div>
<p><br></p>
<p>Look at that. We have a <strong>total</strong> row - that sure could have thrown a wrench in our summaries. That row is also adding <code>NA</code>s to other columns which might make some of our analysis harder in the future. Let’s get rid of this summary row and keep only the <em>real data</em>.</p>
<blockquote>
<p><strong>NOTE:</strong> Lots of functions you’ll meet in R will have the additional argument <code>na.rm = TRUE</code>, which allows us to ignore NA values when calculating things like means, maxes, etc. Super handy!</p>
</blockquote>
<div id="filter-time" class="section level3 unnumbered quiz">
<h3><i class="fas fa-cookie-bite" style="color: gray;"></i> Filter time</h3>
<ul class="nav nav-pills" id="myTab55" role="tablist" style="margin-top: 18px;">
<li class="nav-item active">
<a class="nav-link" id="filterout55-tab" data-toggle="tab" href="#filterout55" role="tab" aria-controls="filterout55" aria-selected="true">Filter out</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showhint55-tab" data-toggle="tab" href="#showhint55" role="tab" aria-controls="showhint55" aria-selected="false">Show hint</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showcode55-tab" data-toggle="tab" href="#showcode55" role="tab" aria-controls="showcode55" aria-selected="false">Show code</a>
</li>
</ul>
<div id="myTabContent" class="well tab-content" style="background-color: white;">
<div id="filterout55" class="tab-pane fade active in" role="tabpanel" aria-labelledby="filterout55-tab">
<p><b> Filter the inventory data to drop the TOTAL row. </b></p>
<p><br></p>
</div>
<div id="showhint55" class="tab-pane fade" role="tabpanel" aria-labelledby="showhint55-tab">
<pre class="sourceCode r">
# Remember the not equal sign is "!="

inventory <- filter(inventory, PLACE A CONDITION HERE)

</pre>
</div>
<div id="showcode55" class="tab-pane fade" role="tabpanel" aria-labelledby="showcode55-tab">
<pre class="sourceCode r">

inventory <- filter(inventory, INGREDIENT != "TOTAL")

</pre>
</div>
</div>
</div>
<p>Let’s try <code>summary</code> again and see if we can get some better results, hopefully no more NAs or outrageous numbers.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>inventory <span class="ot">&lt;-</span> <span class="fu">filter</span>(inventory, INGREDIENT <span class="sc">!=</span> <span class="st">&quot;TOTAL&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">summary</span>(inventory)</span></code></pre></div>
<pre><code>##   INGREDIENT        PRICE_PER_UNIT    SIZE_UNITS       
##  Length:28          Min.   : 0.490   Length:28         
##  Class :character   1st Qu.: 1.890   Class :character  
##  Mode  :character   Median : 2.795   Mode  :character  
##                     Mean   : 3.639                     
##                     3rd Qu.: 3.515                     
##                     Max.   :17.790                     
##  NUMBER_OF_UNITS_IN_STOCK ORDER_THRESHOLD
##  Min.   : 2.00            Min.   : 2     
##  1st Qu.: 8.75            1st Qu.: 5     
##  Median :12.00            Median :10     
##  Mean   :13.50            Mean   :11     
##  3rd Qu.:18.25            3rd Qu.:15     
##  Max.   :37.00            Max.   :30</code></pre>
<p>Much better. Okay, let’s see what we’ve been asked to do.</p>
</div>
<div id="place-that-order" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Place that order!</h1>
<p>We need to use the data we received to determine what items to order. If the number of units we currently have in-stock is less than the order threshold, we need to place an order right away.</p>
<ul>
<li>Do we have any ingredients (rows in the data) that meet this criteria?</li>
</ul>
<div id="time-to-order" class="section level3 unnumbered quiz">
<h3><i class="fas fa-cookie-bite" style="color: gray;"></i> Time to order?</h3>
<ul class="nav nav-pills" id="myTab32" role="tablist" style="margin-top: 18px;">
<li class="nav-item active">
<a class="nav-link" id="lessthanorderthreshold32-tab" data-toggle="tab" href="#lessthanorderthreshold32" role="tab" aria-controls="lessthanorderthreshold32" aria-selected="true">Less than Order Threshold</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showhint32-tab" data-toggle="tab" href="#showhint32" role="tab" aria-controls="showhint32" aria-selected="false">Show hint</a>
</li>
<li class="nav-item">
<a class="nav-link" id="showcode32-tab" data-toggle="tab" href="#showcode32" role="tab" aria-controls="showcode32" aria-selected="false">Show code</a>
</li>
</ul>
<div id="myTabContent" class="well tab-content" style="background-color: white;">
<div id="lessthanorderthreshold32" class="tab-pane fade active in" role="tabpanel" aria-labelledby="lessthanorderthreshold32-tab">
<p><b> Filter the inventory data to the rows that meet the condition where the number of units in stock is less than the order threshold. </b></p>
<p><br></p>
</div>
<div id="showhint32" class="tab-pane fade" role="tabpanel" aria-labelledby="showhint32-tab">
<pre class="sourceCode r">
# You will need to compare 2 columns in the data

order_now <- filter(inventory, PLACE A CONDITION HERE)

order_now

</pre>
</div>
<div id="showcode32" class="tab-pane fade" role="tabpanel" aria-labelledby="showcode32-tab">
<pre class="sourceCode r">
order_now <- filter(inventory, 
                    NUMBER_OF_UNITS_IN_STOCK < ORDER_THRESHOLD)
                    
order_now

</pre>
</div>
</div>
</div>
<p><br></p>
<p>That’s just what I expected. We’ve been getting lots of orders for our <strong>Gluten-free Applesauce</strong> and <strong>Walnut muffins</strong>, and also for our <strong>Triple-Chocolate Brownies</strong>. Time for an urgent supply order so we don’t run out!</p>
<p>The last thing to do is to write/save the filtered data so we can send it to the lead baking-bot.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">write_csv</span>(<span class="at">x =</span> order_now, <span class="at">file =</span> <span class="st">&quot;order_now.csv&quot;</span>)</span></code></pre></div>
<p><br></p>
<p>Excellent! We’ll send this out so we get those ingredients right away. Even better, next inventory time we’ll have these scripted steps that we can use again and again and again…well you get the idea.</p>
<p><strong>NICE WORK!</strong></p>
<p><i class="fa fa-cookie-bite"></i>
<i class="fa fa-robot"></i>
<i class="fa fa-cookie-bite"></i></p>
</div>
